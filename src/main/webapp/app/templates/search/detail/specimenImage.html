<div ng-include="'app/templates/main/partial/detailview_header.html'"></div>

<div class="panel detailview-page">
    <div class="panel-body">

        <div class="row" bs-loading-overlay bs-loading-overlay-reference-id="detailView" bs-loading-overlay-template-url="app/templates/main/partial/loading.overlay.html">
            <div class="col-lg-6" data-ng-if="detailCtrl.results.image != null || detailCtrl.results.image_url != null">
                <h2 data-ng-if="detailCtrl.results.id != null">
                    {{ 'API_TRANSLATION.SPECIMEN_IMAGE.PHOTO_NUMBER' | translate }} {{ detailCtrl.results.id }}
                </h2>

                <img spinner-load ng-src="{{detailCtrl.imageUrl}}" class="window-size"/>
                {{'API_TRANSLATION.PHOTO_ARCHIVE.SIZE ' | translate }}:
                <a href="{{detailCtrl.externalImagePath}}/600" target="_blank">600px</a>
                | <a href="{{detailCtrl.externalImagePath}}/1024" target="_blank">1024px</a>
                | <a href="{{detailCtrl.externalImagePath}}/1440" target="_blank">1440px</a>
                | <a href="{{detailCtrl.externalImagePath}}/1600" target="_blank">1600px</a>
                | <a href="{{detailCtrl.externalImagePath}}/1920" target="_blank">1920px</a>
                | <a href="{{detailCtrl.imageUrl}}" target="_blank">Original</a>
            </div>
            <div class="col-lg-6" data-ng-if="detailCtrl.results.image === null && detailCtrl.results.image_url === null">
                <h2>TODO: nice error message or default error picture.</h2>
            </div>

            <div class="col-lg-6">
                <table class="table table-bordered table-hover table-header-styles">
                    <h2> {{ 'DETAILVIEW_TABLE_HEADER' | translate }} </h2>
                    <thead>
                    </thead>
                    <tbody>

                    <tr data-ng-if="detailCtrl.results.id && detailCtrl.results.id != null">
                        <td> {{ 'API_TRANSLATION.SPECIMEN_IMAGE.ID' | translate }} </td>
                        <td> {{ detailCtrl.results.id }} </td>
                    </tr>

                    <tr data-ng-if="detailCtrl.results.specimen__specimen_id && detailCtrl.results.specimen__specimen_id != null">
                        <td> {{ 'API_TRANSLATION.SPECIMEN_IMAGE.SPECIMEN_ID' | translate }} </td>
                        <td>
                            <a href data-ng-click="detailCtrl.service.openInNewWindow({object:'specimen', id:detailCtrl.results.specimen_id})">
                                {{ detailCtrl.results.specimen__specimen_id }}
                            </a>
                        </td>
                    </tr>

                    <!--NAME START-->

                    <tr data-ng-if="detailCtrl.results.specimen__specimenidentification__taxon__taxon
                        && detailCtrl.results.specimen__specimenidentification__taxon__taxon != null">
                        <td> {{ 'API_TRANSLATION.SPECIMEN_IMAGE.NAME' | translate }} </td>
                        <td>
                            <a href data-ng-click="detailCtrl.service.openUrlInNewWindow({url:'http://fossiilid.info/'+detailCtrl.results.specimen__specimenidentification__taxon__id})">
                                {{ detailCtrl.results.specimen__specimenidentification__taxon__taxon }}
                            </a>
                        </td>
                    </tr>

                    <tr data-ng-if="detailCtrl.results.specimen__specimenidentification__taxon__taxon == null &&
                        (detailCtrl.results.specimen__specimenidentification__taxon__name && detailCtrl.results.specimen__specimenidentification__taxon__name != null)">
                        <td> {{ 'API_TRANSLATION.SPECIMEN_IMAGE.NAME' | translate }} </td>
                        <td> {{ detailCtrl.results.specimen__specimenidentification__taxon__name }} </td>
                    </tr>

                    <!--NAME END-->

                    <tr data-ng-if="(detailCtrl.results.specimen__locality__locality && detailCtrl.results.specimen__locality__locality != null)
                            || (detailCtrl.results.specimen__locality__locality_en && detailCtrl.results.specimen__locality__locality_en != null) ">
                        <td>
                            <localize-label et="'API_TRANSLATION.SPECIMEN_IMAGE.LOCALITY'"
                                            en="'API_TRANSLATION.SPECIMEN_IMAGE.LOCALITY_EN'"/>
                        </td>
                        <td>
                            <a href data-ng-click="detailCtrl.service.openInNewWindow({object:'locality',id:detailCtrl.results.specimen__locality})">
                                <localize et="detailCtrl.results.specimen__locality__locality"
                                          en="detailCtrl.results.specimen__locality__locality_en"/>
                            </a>
                        </td>
                    </tr>

                    <tr data-ng-if="(detailCtrl.results.specimen__stratigraphy__stratigraphy && detailCtrl.results.specimen__stratigraphy__stratigraphy != null)
                            || (detailCtrl.results.specimen__stratigraphy__stratigraphy_en && detailCtrl.results.specimen__stratigraphy__stratigraphy_en != null) ">
                        <td>
                            <localize-label et="'API_TRANSLATION.SPECIMEN_IMAGE.STRATIGRAPHY'"
                                            en="'API_TRANSLATION.SPECIMEN_IMAGE.STRATIGRAPHY_EN'"/>
                        </td>
                        <td>
                            <a href data-ng-click="detailCtrl.service.openInNewWindow({object:'stratigraphy',id:detailCtrl.results.specimen__stratigraphy})">
                                <localize et="detailCtrl.results.specimen__stratigraphy__stratigraphy"
                                          en="detailCtrl.results.specimen__stratigraphy__stratigraphy_en"/>
                            </a>
                        </td>
                    </tr>

                    <!--TODO:scalebar-->

                    <tr data-ng-if="detailCtrl.results.tags && detailCtrl.results.tags != null">
                        <td> {{ 'API_TRANSLATION.SPECIMEN_IMAGE.TAGS' | translate }} </td>
                        <td> {{ detailCtrl.results.tags }} </td>
                    </tr>

                    <!--TODO:specimen_image_description-->

                    <!--TODO:remarks-->

                    <tr data-ng-if="(detailCtrl.results.type__value && detailCtrl.results.type__value != null)
                            || (detailCtrl.results.type__value_en && detailCtrl.results.type__value_en != null) ">
                        <td>
                            <localize-label et="'API_TRANSLATION.PHOTO_ARCHIVE.TYPE__VALUE'"
                                            en="'API_TRANSLATION.PHOTO_ARCHIVE.TYPE__VALUE_EN'"/>
                        </td>
                        <td>
                            <localize et="detailCtrl.results.type__value" en="detailCtrl.results.type__value_en"/>
                        </td>
                    </tr>

                    <!--TODO:image_filename-->
                    <!--TODO:date_taken-->
                    <!--TODO:date_taken_free-->

                    <!--TODO:device-->
                    <!--TODO:device_free-->
                    <!--TODO:file_source-->
                    <!--TODO:image_size-->

                    <!--TODO:author_free-->
                    <!--TODO:agent_digitised-->
                    <!--TODO:date_digitised-->
                    <!--TODO:date_digitised_free-->
                    <!--TODO:device_digitised-->
                    <!--TODO:copyright-->

                    <tr data-ng-if="detailCtrl.results.author__forename != null && detailCtrl.results.author__surename != null">
                        <td> {{'API_TRANSLATION.PHOTO_ARCHIVE.AUTHOR__AGENT ' | translate }}</td>
                        <td> {{ detailCtrl.results.author__forename + " " + detailCtrl.results.author__surename }} </td>
                    </tr>

                    <tr data-ng-if="(detailCtrl.results.author__forename === null || detailCtrl.results.author__surename === null)
                            && detailCtrl.results.author__agent != null">
                        <td> {{'API_TRANSLATION.PHOTO_ARCHIVE.AUTHOR__AGENT ' | translate }}</td>
                        <td> {{ detailCtrl.results.author__agent + " " + detailCtrl.results.author__agent }} </td>
                    </tr>

                    <tr data-ng-if="detailCtrl.results.author_free && detailCtrl.results.author_free != null">
                        <td> {{'API_TRANSLATION.PHOTO_ARCHIVE.AUTHOR_FREE ' | translate }}</td>
                        <td> {{detailCtrl.results.author_free}}</td>
                    </tr>

                    <tr data-ng-if="detailCtrl.results.date_taken && detailCtrl.results.date_taken != null" >
                        <td> {{'API_TRANSLATION.PHOTO_ARCHIVE.DATE_TAKEN ' | translate }}</td>
                        <td> {{detailCtrl.results.date_taken | date:dateFormat }}</td>
                    </tr>

                    <tr data-ng-if="detailCtrl.results.date_taken_free && detailCtrl.results.date_taken_free != null" >
                        <td> {{'API_TRANSLATION.PHOTO_ARCHIVE.DATE_TAKEN_FREE ' | translate }}</td>
                        <td> {{ detailCtrl.results.date_taken_free }} </td>
                    </tr>

                    <tr data-ng-if="detailCtrl.results.object && detailCtrl.results.object != null" >
                        <td> {{'API_TRANSLATION.PHOTO_ARCHIVE.CATEGORY ' | translate }}</td>
                        <td> {{detailCtrl.results.object}}</td>
                    </tr>

                    <tr data-ng-if="(detailCtrl.results.locality__locality && detailCtrl.results.locality__locality != null)
                            || (detailCtrl.results.locality__locality_en && detailCtrl.results.locality__locality_en != null)">
                        <td>
                            <localize-label et="'API_TRANSLATION.PHOTO_ARCHIVE.LOCALITY__LOCALITY'"
                                            en="'API_TRANSLATION.PHOTO_ARCHIVE.LOCALITY__LOCALITY_EN'"/>
                        </td>
                        <td>
                            <a href data-ng-click="detailCtrl.service.openInNewWindow({object:'locality',id:detailCtrl.results.locality_id})">
                                <localize et="detailCtrl.results.locality__locality" en="detailCtrl.results.locality__locality_en"/>
                            </a>
                        </td>
                    </tr>

                    <tr data-ng-if="detailCtrl.results.place && detailCtrl.results.place != null" >
                        <td> {{'API_TRANSLATION.PHOTO_ARCHIVE.PLACE ' | translate }}</td>
                        <td> {{detailCtrl.results.place}}</td>
                    </tr>

                    <tr data-ng-if="detailCtrl.results.latitude != null" >
                        <td> {{'API_TRANSLATION.LOCALITY.LATITUDE ' | translate }}</td>
                        <td> {{ detailCtrl.results.latitude }} </td>
                    </tr>

                    <tr data-ng-if="detailCtrl.results.longitude != null" >
                        <td> {{'API_TRANSLATION.LOCALITY.LONGITUDE ' | translate }}</td>
                        <td> {{ detailCtrl.results.ongitude }} </td>
                    </tr>

                    <!-- TODO: Elevation should come here -->

                    <tr data-ng-if="detailCtrl.results.people && detailCtrl.results.people != null" >
                        <td> {{'API_TRANSLATION.PHOTO_ARCHIVE.PEOPLE ' | translate }}</td>
                        <td> {{detailCtrl.results.people}}</td>
                    </tr>

                    <tr data-ng-if="detailCtrl.results.keywords && detailCtrl.results.keywords != null" >
                        <td> {{'API_TRANSLATION.PHOTO_ARCHIVE.KEYWORDS ' | translate }}</td>
                        <td> {{detailCtrl.results.keywords}}</td>
                    </tr>

                    <tr data-ng-if="detailCtrl.results.description && detailCtrl.results.description != null" >
                        <td> {{'API_TRANSLATION.PHOTO_ARCHIVE.DESCRIPTION ' | translate }}</td>
                        <td> {{detailCtrl.results.description}}</td>
                    </tr>


                    <tr data-ng-if="detailCtrl.results.filename && detailCtrl.results.filename != null" >
                        <td> {{'API_TRANSLATION.PHOTO_ARCHIVE.FILENAME ' | translate }}</td>
                        <td> {{detailCtrl.results.filename}}</td>
                    </tr>

                    <tr data-ng-if="detailCtrl.results.device__name && detailCtrl.results.device__name != null" >
                        <td> {{'API_TRANSLATION.PHOTO_ARCHIVE.DEVICE__NAME ' | translate }}</td>
                        <td> {{detailCtrl.results.device__name}}</td>
                    </tr>

                    <tr data-ng-if="detailCtrl.results.size_x != null && detailCtrl.results.size_y != null" >
                        <td> {{'API_TRANSLATION.PHOTO_ARCHIVE.SIZE ' | translate }}</td>
                        <td> {{ detailCtrl.results.size_x
                            + " × "
                            + detailCtrl.results.size_y
                            + " px" }}
                        </td>
                    </tr>

                    <tr data-ng-if="detailCtrl.results.agent_digitised__forename != null && detailCtrl.results.agent_digitised__surename != null">
                        <td> {{ 'API_TRANSLATION.PHOTO_ARCHIVE.AGENT_DIGITISED' | translate }} </td>
                        <td> {{ detailCtrl.results.agent_digitised__forename
                            + " "
                            + detailCtrl.results.agent_digitised__surename }}
                        </td>
                    </tr>

                    <tr data-ng-if="detailCtrl.results.date_digitised && detailCtrl.results.date_digitised != null">
                        <td> {{ 'API_TRANSLATION.PHOTO_ARCHIVE.DATE_DIGITISED' | translate }} </td>
                        <td> {{ detailCtrl.results.date_digitised | date:dateFormat }} </td>
                    </tr>

                    <tr data-ng-if="detailCtrl.results.date_digitised_free && detailCtrl.results.date_digitised_free != null">
                        <td> {{ 'API_TRANSLATION.PHOTO_ARCHIVE.DATE_DIGITISED_FREE' | translate }} </td>
                        <td> {{ detailCtrl.results.date_digitised_free }} </td>
                    </tr>

                    <tr data-ng-if="detailCtrl.results.device_digitised__name && detailCtrl.results.device_digitised__name != null">
                        <td> {{ 'API_TRANSLATION.PHOTO_ARCHIVE.DEVICE_DIGITISED__NAME' | translate }} </td>
                        <td> {{ detailCtrl.results.device_digitised__name }} </td>
                    </tr>

                    <tr data-ng-if="detailCtrl.results.author__forename != null && detailCtrl.results.author__surename != null
                            && detailCtrl.results.copyright_agent__agent != null" >
                        <td> {{'API_TRANSLATION.PHOTO_ARCHIVE.COPYRIGHT_AGENT__AGENT ' | translate }}</td>
                        <td> {{detailCtrl.results.author__forename
                            + " "
                            + detailCtrl.results.author__surename
                            + " / "
                            + detailCtrl.results.copyright_agent__agent}}
                        </td>
                    </tr>


                    <tr>
                        <td><localize-label et="'API_TRANSLATION.DOI.LICENCE__LICENCE_EN'" en="'API_TRANSLATION.DOI.LICENCE__LICENCE_EN'"/></td>
                        <td>
                            <a href data-ng-click="detailCtrl.service.openUrlInNewWindow({url: detailCtrl.results.licence__licence_url_en})">
                                <localize et="detailCtrl.results.licence__licence_en" en="detailCtrl.results.licence__licence_en"/>
                            </a>
                        </td>
                    </tr>

                    <tr data-ng-if="detailCtrl.results.date_added && detailCtrl.results.date_added != null" >
                        <td> {{'API_TRANSLATION.PHOTO_ARCHIVE.DATE_ADDED ' | translate }}</td>
                        <td> {{detailCtrl.results.date_added  | date:dateFormat }}</td>
                    </tr>

                    <tr data-ng-if="detailCtrl.results.date_changed && detailCtrl.results.date_changed != null" >
                        <td> {{'API_TRANSLATION.PHOTO_ARCHIVE.DATE_CHANGED ' | translate }}</td>
                        <td> {{detailCtrl.results.date_changed  | date:dateFormat }}</td>
                    </tr>

                    </tbody>
                </table>

            </div>

        </div>

    </div>
</div>

<div ng-include="'app/templates/main/partial/detailview_footer.html'"></div>