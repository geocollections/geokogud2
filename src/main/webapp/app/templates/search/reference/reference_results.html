
<div data-ng-if="response.results != null">
    <div class="row">
        <div class="col-xs-6" ng-include="'app/templates/search/partial/export_buttons.html'"></div>
        <div class="col-xs-6" ng-include="'app/templates/search/partial/pagination.html'" data-ng-if="!main.isGlobalSearch()"></div>
    </div>

    <div class="table-responsive">
        <table class="table table-bordered table-hover" id="table-search">
            <thead class="thead-default">
            <tr>
                <th><sort-field value = "id" name="SEARCH.REFERENCES.TABLE.ID"></sort-field></th>
                <th><sort-field value = "reference" name="SEARCH.REFERENCES.TABLE.REFERENCE"></sort-field></th>
                <th><sort-field value = "author" name="SEARCH.REFERENCES.TABLE.AUTHOR"></sort-field></th>
                <th><sort-field value = "year" name="SEARCH.REFERENCES.TABLE.YEAR"></sort-field></th>
                <th><sort-field value = "title" name="SEARCH.REFERENCES.TABLE.TITLE"></sort-field></th>
                <th><sort-field value = "journal__journal_name" name="SEARCH.REFERENCES.TABLE.JOURNAL_BOOK"></sort-field></th>
                <th>{{'SEARCH.REFERENCES.TABLE.PP' | translate}}</th>
                <th>{{'SEARCH.REFERENCES.TABLE.DOI' | translate}}</th>
                <th><sort-field value = "remarks" name="SEARCH.REFERENCES.TABLE.REMARKS"></sort-field></th>
            </tr>
            </thead>
            <tbody>
            <tr data-ng-repeat="entity in response.results">
                <td data-title="{{ 'SEARCH.REFERENCES.TABLE.ID' | translate }}">{{entity.id}}</td>
                <td data-title="{{ 'SEARCH.REFERENCES.TABLE.REFERENCE' | translate }}">
                    <a class="bold-link" href data-ng-click="ctrl.service.openInNewWindow({object:'reference',id:entity.id})">{{entity.reference}}</a>
                </td>
                <td data-title="{{ 'SEARCH.REFERENCES.TABLE.AUTHOR' | translate }}">{{entity.author}}</td>
                <td data-title="{{ 'SEARCH.REFERENCES.TABLE.YEAR' | translate }}">{{entity.year}}</td>
                <td data-title="{{ 'SEARCH.REFERENCES.TABLE.TITLE' | translate }}">{{entity.title}}</td>
                <td data-title="{{ 'SEARCH.REFERENCES.TABLE.JOURNAL_BOOK' | translate }}">{{entity.journal__journal_name}}</td>
                <td data-title="{{ 'SEARCH.REFERENCES.TABLE.PP' | translate }}">{{entity.pages}}</td>
                <td data-title="{{ 'SEARCH.REFERENCES.TABLE.DOI' | translate }}">
                    <a href data-ng-if="entity.doi.includes('http')" data-ng-click="ctrl.service.openUrlInNewWindow({url: entity.doi})">
                        {{entity.doi}}
                    </a>
                    <a href data-ng-if="entity.doi.includes('DOI')" data-ng-click="ctrl.service.openDoiInNewWindow({doi: entity.doi})">
                        {{entity.doi}}
                    </a>
                </td>
                <td data-title="{{ 'SEARCH.REFERENCES.TABLE.REMARKS' | translate }}">{{entity.remarks}}</td>
            </tr>
            </tbody>
        </table>
    </div>

    <div ng-include="'app/templates/search/partial/pagination.html'" data-ng-if="!main.isGlobalSearch()"></div>
</div>

<div class="row" data-ng-if="response.results == null">
    <div class="col-lg-12 h3 panel-heading text-center no-results">{{ 'SEARCH.NO_RESULTS' | translate }}</div>
    <div class="col-lg-12">
        <div class="col-lg-12" ng-bind-html="main.getContent(main.searchTips)"></div>
    </div>
</div>
